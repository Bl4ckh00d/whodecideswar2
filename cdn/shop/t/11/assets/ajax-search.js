$(document).ready(function(){function extractTextBetween(subject,start,end){try{return subject.split(start)[1].split(end)[0]}catch(e){console.log("Exception when extracting text",e)}}function updateUrlParams(searchVal,sortVal){searchVal&&window.history.propertyIsEnumerable(null,null,`?${$.param({search:searchVal})}`),searchVal&&sortVal&&window.history.propertyIsEnumerable(null,null,`?${$.param({search:searchVal,sort_by:sortVal})}`)}function fetchProductsPage(linkURL){fetch(linkURL).then(function(response){return response.text()}).then(function(html){if(html.includes("Check the spelling or use a different word or phrase."))document.getElementById("ProductGridContainer").innerHTML='<div class="product-not-found">No products found. Check the spelling or use a different word or phrase.</div>';else{$("#category li").removeClass("active");var match=extractTextBetween(html,'<div id="StartSingleCollectionGridTemplate"></div>','<div id="EndSingleCollectionGridTemplate"></div>');document.getElementById("ProductGridContainer").innerHTML=match;var endlessScroll=new Ajaxinate}}).catch(function(err){console.warn("Something went wrong.",err),document.getElementById("ProductGridContainer").innerHTML='<div class="product-not-found">No products found. Check the spelling or use a different word or phrase.</div>'})}var preLoadLoadGif='<img src="https://cdn.shopify.com/s/files/1/0054/4492/7601/t/7/assets/ajax-loader.gif?v=1701114272" />',searchTimeoutThrottle=500,searchTimeoutID=-1,currReqObj=null,$resultsBox=$("#ProductGridContainer"),originalResultBox=$("#ProductGridContainer").html();$("#search-field").on("input",function(){if($(this).val().length>2&&$(this).val()!=$(this).data("oldval")){$(this).data("oldval",$(this).val()),currReqObj?.abort(),clearTimeout(searchTimeoutID);var $form=$("#search-form"),term="*"+$form.find('input[name="q"]').val()+"*",sort=$("#sort-by").find(".active").attr("value");let linkURL=$form.attr("action")+"?type=product&q="+term;sort&&(linkURL=$form.attr("action")+"?type=product&q="+term+"&sort_by="+sort),$resultsBox.html(preLoadLoadGif),searchTimeoutID=setTimeout(function(){},searchTimeoutThrottle)}else $(this).val().length<=2&&($resultsBox.innerHTML=originalResultBox)}).attr("autocomplete","off").data("oldval","").bind("focusin",function(){$resultsBox.fadeIn(200)}).bind("click",function(e){e.stopPropagation()}),$("#search-open-button").on("click",function(){$(this).toggleClass("hidden"),$("#search-area").toggleClass("show")}),$("#search-cancel-button").on("click",function(){$("#search-open-button").toggleClass("hidden"),$("#search-area").toggleClass("show"),$("#search-field").val("")})});
//# sourceMappingURL=/cdn/shop/t/11/assets/ajax-search.js.map?v=82185706570277552041723783958
